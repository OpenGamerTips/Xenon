local a=false;local b={[0]="MOVE","LOADK","LOADBOOL","LOADNIL","GETUPVAL","GETGLOBAL","GETTABLE","SETGLOBAL","SETUPVAL","SETTABLE","NEWTABLE","SELF","ADD","SUB","MUL","DIV","MOD","POW","UNM","NOT","LEN","CONCAT","JMP","EQ","LT","LE","TEST","TESTSET","CALL","TAILCALL","RETURN","FORLOOP","FORPREP","TFORLOOP","SETLIST","CLOSE","CLOSURE","VARARG"}local c={[0]=1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,3,3,1,1,1,2,1}local bit=bit or bit32 or require("bit")local d,e,f=bit.rshift,bit.lshift,bit.band;local g,h,i,j,k,l=string.sub,string.gsub,string.byte,string.reverse,table.concat,string.match;local m={Position=1,Size_T=4,IntSize=4,Source=nil}local function n()local o=i(g(m.Source,m.Position,m.Position))m.Position=m.Position+1;return o end;local function p()local q,r,s,t=n(),n(),n(),n()return t*16777216+s*65536+r*256+q end;local function u()return p()*4294967296+p()end;local function v()local q,r,s,t=n(),n(),n(),n()local w,x,y=-1^d(t,7),d(s,7)+e(f(t,0x7F),1),q+e(r,8)+e(f(s,0x7F),16)local z=1;if x==0 then if y==0 then return w*0 else z=0;x=1 end elseif x==0x7F then if y==0 then return w*1/0 else return w*0/0 end end;return w*2^(x-127)*(1+z/2^23)end;local function A()local q,r,s,t,B,C,D,E=n(),n(),n(),n(),n(),n(),n(),n()local w,x,y=1^d(E,7),e(f(E,0x7F),4)+d(D,4),f(D,0x0F)*2^48;local z=1;y=y+C*2^40+B*2^32+t*2^24+s*2^16+r*2^8+q;if x==0 then if y==0 then return w*0 else z=0;x=1 end elseif x==0x7FF then if y==0 then return w*1/0 else return w*0/0 end end;return w*2^(x-1023)*(z+y/2^52)end;local function F()if m.IntSize==4 then return p()elseif m.IntSize==8 then return u()else error("Invalid int size.",2)end end;local function G()if m.Size_T==4 then return p()elseif m.Size_T==8 then return u()else error("Invalid size_t size.",2)end end;local function H(I)if not I then I=G()end;if I==0 then return""end;local J=g(m.Source,m.Position,m.Position+I-1)m.Position=m.Position+I;return J end;local function K()assert(p()==1635077147,"Invalid bytecode signature.")assert(n()==0x51,"Lua bytecode version needs to be 5.1.")n()assert(n()==0x01,"Bytecode format must be in little endian format.")m.IntSize=n()m.Size_T=n()n()n()n()return true end;local L;L=function()local M={}M.Name=g(H(),1,-2)M.StartLine=F()M.EndLine=F()M.Nups=n()M.Nparams=n()M.IsVararg=n()M.MaxStackSize=n()M.Instructions={}for N=1,F()do local O=p()local P=f(O,0x3F)local Q=c[P]local R={Opcode=P,Type=nil,A=f(d(O,6),0xFF)}if Q==1 then R.B=f(d(O,23),0x1FF)R.C=f(d(O,14),0x1FF)elseif Q==2 then R.Bx=f(d(O,14),0x3FFFF)elseif Q==3 then R.sBx=f(d(O,14),0x3FFFF)-131071 end;R.Name=b[P]M.Instructions[N]=R end;M.Constants={}for N=1,F()do local S;local T=n()if T==1 then S=n()~=0 elseif T==3 then S=A()elseif T==4 then S=g(H(),1,-2)end;M.Constants[N-1]=S end;M.Protos={}for N=1,F()do M.Protos[N-1]=L(m)end;M.Debug={Lines={},Locals={},Upvalues={}}for N=1,F()do local U=p()if not a then M.Debug.Lines[N]=U end end;for N=1,F()do local V=H()m.Position=m.Position+8;if not a then M.Debug.Locals[N]=V end end;for N=1,F()do local W=H()if not a then M.Debug.Upvalues[N]=W end end;return M end;local function X(Y)m.Source=Y;K()return L()end;local function Z(M,_)local a0,a1=M.Instructions,1;local a2,a3=M.Protos,M.Constants;local a4,a5,a6=nil,{},0;local a7,a8={},0;local function a9(aa)if aa<=255 then return a5[aa]else return a3[aa-256]end end;local ab={[0]=function(aa)a5[aa.A]=a5[aa.B]end,[1]=function(aa)a5[aa.A]=a3[aa.Bx]end,[2]=function(aa)a5[aa.A]=aa.B~=0;if aa.C~=0 then a1=a1+1 end end,[3]=function(aa)for ac=aa.A,aa.B do a5[ac]=nil end end,[4]=function(aa)a5[aa.A]=_[aa.B]end,[5]=function(aa)a5[aa.A]=a4[a3[aa.Bx]]end,[6]=function(aa)a5[aa.A]=a5[aa.B][a9(aa.C)]end,[7]=function(aa)a4[a3[aa.Bx]]=a5[aa.A]end,[8]=function(aa)_[aa.B]=a5[aa.A]end,[9]=function(aa)a5[aa.A][a9(aa.B)]=a9(aa.C)end,[10]=function(aa)a5[aa.A]={}end,[11]=function(aa)local q=aa.A;local r=aa.B;local ad=a9(aa.C)a5[q+1]=a5[r]a5[q]=a5[r][ad]end,[12]=function(aa)a5[aa.A]=a9(aa.B)+a9(aa.C)end,[13]=function(aa)a5[aa.A]=a9(aa.B)-a9(aa.C)end,[14]=function(aa)a5[aa.A]=a9(aa.B)*a9(aa.C)end,[15]=function(aa)a5[aa.A]=a9(aa.B)/a9(aa.C)end,[16]=function(aa)a5[aa.A]=a9(aa.B)%a9(aa.C)end,[17]=function(aa)a5[aa.A]=a9(aa.B)^a9(aa.C)end,[18]=function(aa)a5[aa.A]=-a5[aa.B]end,[19]=function(aa)a5[aa.A]=not a5[aa.B]end,[20]=function(aa)a5[aa.A]=#a5[aa.B]end,[21]=function(aa)local ae={}for ac=aa.B,aa.C do ae[#ae+1]=a5[ac]end;a5[aa.A]=k(ae)end,[22]=function(aa)a1=a1+aa.sBx end,[23]=function(aa)if a9(aa.B)==a9(aa.C)~=(aa.A~=0)then a1=a1+1 end end,[24]=function(aa)if a9(aa.B)<a9(aa.C)~=(aa.A~=0)then a1=a1+1 end end,[25]=function(aa)if a9(aa.B)<=a9(aa.C)~=(aa.A~=0)then a1=a1+1 end end,[26]=function(aa)if not not aa.A==(aa.C==0)then a1=a1+1 end end,[27]=function(aa)local r=aa.B;if not not r==(aa.C==0)then a1=a1+1 else a5[aa.A]=a5[r]end end,[28]=function(aa)local q=aa.A;local r=aa.B;local s=aa.C;local af,ag={}local ah,ai=0;if r==1 then ai={a5[q]()}ag=#ai else if r~=0 then ag=q+r-1 else ag=a6 end;for aj=q+1,ag do ah=ah+1;af[ah]=a5[aj]end;ai={a5[q](unpack(af,1,ag-q))}ag=#ai end;ah=0;a6=q-1;if s~=1 then if s~=0 then ag=q+s-2 else ag=ag+q end;for aj=q,ag do ah=ah+1;a5[aj]=ai[ah]end end end,[29]=function(aa)local q=aa.A;local r=aa.B;local af,ag={}local ai=0;if r==1 then ai={a5[q]()}else if r~=0 then ag=q+r-1 else ag=a6 end;for ac=q+1,ag do af[#af+1]=a5[ac]end;ai={a5[q](unpack(af,1,ag-q))}end;return ai end,[30]=function(aa)local q=aa.A;local r=aa.B;local af,ah,ag={},0;if r==0 then ag=a6 elseif r==1 then return{nil}else ag=q+r-2 end;for ac=q,ag do ah=ah+1;af[ah]=a5[ac]end;return af end,[31]=function(aa)local q=aa.A;local ak=a5[q+2]local ac=a5[q]+ak;a5[q]=ac;if ak>0 then if ac<=a5[q+1]then a1=a1+aa.sBx;a5[q+3]=ac end else if ac>=a5[q+1]then a1=a1+aa.sBx;a5[q+3]=ac end end end,[32]=function(aa)local q=aa.A;a5[q]=a5[q]-a5[q+2]a1=a1+aa.sBx end,[33]=function(aa)local q=aa.A;local al=q+2;local ai={a5[q](a5[q+1],a5[q+2])}for ac=1,aa.C do a5[al+ac]=ai[ac]end;if a5[q+3]then a5[q+2]=a5[q+3]else a1=a1+1 end end,[34]=function(aa)local q=aa.A;local r=aa.B;local s=aa.C;if s~=0 then local al=(s-1)*50;for ac=1,r==0 and a6 or r do a5[q][al+ac]=a5[q+ac]end else error("Bytecode has a pre-compilation error.")end end,[35]=function(aa)end,[36]=function(aa)local am=a2[aa.Bx]local an={}local ao=setmetatable({},{__index=function(ap,ad)local aq=an[ad]return aq.Parent[aq.Index]end,__newindex=function(ap,ad,ar)local aq=an[ad]aq.Parent[aq.Index]=ar end})for ac=1,am.Upvalues do local R=a0[a1]if R.Opcode==0 then an[ac-1]={Parent=a5,Index=R.B}else an[ac-1]={Parent=_,Index=R.B}end;a1=a1+1 end;a5[aa.A]=Z(am,ao)end,[37]=function(aa)local q=aa.A;local r=aa.B;for ac=q,q+(r>0 and r-1 or a8)do a5[ac]=a7[ac-q]end end}local function as()local at;while not at do local R=M.Instructions[a1]if not R then return end;at=ab[R.Opcode](R)a1=a1+1 end;return at end;return function(...)local af={...}a7={}a8=#af-1;a4=getfenv()local au,av={},{}a6=-1;a5=setmetatable(au,{__index=av,__newindex=function(self,ad,ar)if ad>a6 and ar then a6=ad end;av[ad]=ar end})for ac=0,a8 do au[ac]=af[ac+1]a7[ac]=af[ac+1]end;a1=1;local aw,at=pcall(as)if aw then return type(at)=="table"and unpack(at)or at else local ax,ay,az=l(at,"^(.-):(%d+):%s+(.+)")error(M.Name..":"..(M.Debug.Lines[a1]or"?")..": "..az,0)end end end;local function aA(Y,...)local aB=X(Y)return Z(aB)(...)end;_G.loadbytecode=aA